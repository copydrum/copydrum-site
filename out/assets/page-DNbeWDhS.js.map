{"version":3,"file":"page-DNbeWDhS.js","sources":["../../src/pages/cart/page.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { useCart } from '../../hooks/useCart';\nimport { useAuthStore } from '../../stores/authStore';\n\nexport default function CartPage() {\n  const { cartItems, loading, removeFromCart, removeSelectedItems, clearCart, getTotalPrice } = useCart();\n  const { user } = useAuthStore();\n  const [selectedItems, setSelectedItems] = useState<string[]>([]);\n\n  if (!user) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">로그인이 필요합니다</h2>\n          <p className=\"text-gray-600\">장바구니를 확인하려면 로그인해주세요.</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  const handleSelectAll = () => {\n    if (selectedItems.length === cartItems.length) {\n      setSelectedItems([]);\n    } else {\n      setSelectedItems(cartItems.map(item => item.id));\n    }\n  };\n\n  const handleSelectItem = (itemId: string) => {\n    setSelectedItems(prev => \n      prev.includes(itemId) \n        ? prev.filter(id => id !== itemId)\n        : [...prev, itemId]\n    );\n  };\n\n  const handleRemoveSelected = async () => {\n    if (selectedItems.length === 0) {\n      alert('삭제할 상품을 선택해주세요.');\n      return;\n    }\n\n    if (confirm(`선택한 ${selectedItems.length}개 상품을 삭제하시겠습니까?`)) {\n      const success = await removeSelectedItems(selectedItems);\n      if (success) {\n        setSelectedItems([]);\n      }\n    }\n  };\n\n  const handleClearCart = async () => {\n    if (cartItems.length === 0) return;\n\n    if (confirm('장바구니를 전체 비우시겠습니까?')) {\n      const success = await clearCart();\n      if (success) {\n        setSelectedItems([]);\n      }\n    }\n  };\n\n  const formatPrice = (price: number) => {\n    return new Intl.NumberFormat('ko-KR').format(price);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-6xl mx-auto px-4\">\n        <div className=\"bg-white rounded-lg shadow-sm\">\n          <div className=\"p-6 border-b border-gray-200\">\n            <h1 className=\"text-2xl font-bold text-gray-900\">장바구니</h1>\n            <p className=\"text-gray-600 mt-1\">총 {cartItems.length}개 상품</p>\n          </div>\n\n          {cartItems.length === 0 ? (\n            <div className=\"p-12 text-center\">\n              <div className=\"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center\">\n                <i className=\"ri-shopping-cart-line text-2xl text-gray-400\"></i>\n              </div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">장바구니가 비어있습니다</h3>\n              <p className=\"text-gray-600\">원하는 악보를 장바구니에 담아보세요.</p>\n            </div>\n          ) : (\n            <>\n              {/* 선택/삭제 컨트롤 */}\n              <div className=\"p-4 border-b border-gray-200 flex items-center justify-between\">\n                <div className=\"flex items-center space-x-4\">\n                  <label className=\"flex items-center cursor-pointer\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedItems.length === cartItems.length}\n                      onChange={handleSelectAll}\n                      className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                    />\n                    <span className=\"ml-2 text-sm text-gray-700\">\n                      전체선택 ({selectedItems.length}/{cartItems.length})\n                    </span>\n                  </label>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <button\n                    onClick={handleRemoveSelected}\n                    disabled={selectedItems.length === 0}\n                    className=\"px-3 py-1.5 text-sm text-gray-600 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    선택삭제\n                  </button>\n                  <button\n                    onClick={handleClearCart}\n                    className=\"px-3 py-1.5 text-sm text-gray-600 border border-gray-300 rounded hover:bg-gray-50\"\n                  >\n                    전체삭제\n                  </button>\n                </div>\n              </div>\n\n              {/* 장바구니 아이템 목록 */}\n              <div className=\"divide-y divide-gray-200\">\n                {cartItems.map((item) => (\n                  <div key={item.id} className=\"p-6 flex items-center space-x-4\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedItems.includes(item.id)}\n                      onChange={() => handleSelectItem(item.id)}\n                      className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                    />\n                    \n                    <div className=\"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\">\n                      {item.image ? (\n                        <img src={item.image} alt={item.title} className=\"w-full h-full object-cover rounded-lg\" />\n                      ) : (\n                        <i className=\"ri-music-2-line text-2xl text-white\"></i>\n                      )}\n                    </div>\n\n                    <div className=\"flex-1\">\n                      <h3 className=\"font-medium text-gray-900\">{item.title}</h3>\n                      <p className=\"text-sm text-gray-600\">{item.artist}</p>\n                      <p className=\"text-xs text-gray-500 mt-1\">{item.category}</p>\n                    </div>\n\n                    <div className=\"text-right\">\n                      <p className=\"text-lg font-bold text-gray-900\">{formatPrice(item.price)}원</p>\n                    </div>\n\n                    <button\n                      onClick={() => removeFromCart(item.id)}\n                      className=\"p-2 text-gray-400 hover:text-red-500 transition-colors\"\n                    >\n                      <i className=\"ri-close-line text-xl\"></i>\n                    </button>\n                  </div>\n                ))}\n              </div>\n\n              {/* 결제 정보 */}\n              <div className=\"p-6 bg-gray-50 border-t border-gray-200\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <span className=\"text-lg font-medium text-gray-900\">\n                    선택상품 ({selectedItems.length}개)\n                  </span>\n                  <span className=\"text-2xl font-bold text-blue-600\">\n                    {formatPrice(getTotalPrice(selectedItems))}원\n                  </span>\n                </div>\n                \n                <div className=\"flex space-x-3\">\n                  <button\n                    disabled={selectedItems.length === 0}\n                    className=\"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                  >\n                    선택상품 주문하기\n                  </button>\n                  <button\n                    disabled={cartItems.length === 0}\n                    className=\"flex-1 bg-gray-800 text-white py-3 px-6 rounded-lg font-medium hover:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                  >\n                    전체상품 주문하기\n                  </button>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":["CartPage","cartItems","loading","removeFromCart","removeSelectedItems","clearCart","getTotalPrice","useCart","user","useAuthStore","selectedItems","setSelectedItems","useState","jsxs","jsx","handleSelectAll","item","handleSelectItem","itemId","prev","id","handleRemoveSelected","handleClearCart","formatPrice","price","Fragment"],"mappings":"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"}