{"version":3,"file":"kakao-lIUS1Y1u.js","sources":["../../src/lib/kakao.ts"],"sourcesContent":["\ndeclare global {\n  interface Window {\n    Kakao: any;\n  }\n}\n\nexport class KakaoAuth {\n  private static instance: KakaoAuth;\n  private isInitialized = false;\n\n  static getInstance(): KakaoAuth {\n    if (!KakaoAuth.instance) {\n      KakaoAuth.instance = new KakaoAuth();\n    }\n    return KakaoAuth.instance;\n  }\n\n  async initialize(): Promise<void> {\n    if (this.isInitialized) return;\n\n    return new Promise((resolve, reject) => {\n      // 카카오 SDK 스크립트 로드\n      const script = document.createElement('script');\n      script.src = 'https://t1.kakaocdn.net/kakao_js_sdk/2.7.2/kakao.min.js';\n      script.integrity = 'sha384-TiCUE00h649CAMonG018J2ujOgDKW/kVWlChEuu4jK2vxfAAD0eZxzCKakxg55G4';\n      script.crossOrigin = 'anonymous';\n      \n      script.onload = () => {\n        try {\n          // 카카오 SDK 초기화\n          window.Kakao.init('379ca4f197e4bbe01ffbd571fe20d1de');\n          this.isInitialized = true;\n          console.log('카카오 SDK 초기화 완료');\n          resolve();\n        } catch (error) {\n          console.error('카카오 SDK 초기화 실패:', error);\n          reject(error);\n        }\n      };\n\n      script.onerror = () => {\n        reject(new Error('카카오 SDK 로드 실패'));\n      };\n\n      document.head.appendChild(script);\n    });\n  }\n\n  async login(): Promise<any> {\n    if (!this.isInitialized) {\n      await this.initialize();\n    }\n\n    return new Promise((resolve, reject) => {\n      window.Kakao.Auth.login({\n        success: (authObj: any) => {\n          console.log('카카오 로그인 성공:', authObj);\n          this.getUserInfo()\n            .then(userInfo => resolve({ authObj, userInfo }))\n            .catch(reject);\n        },\n        fail: (err: any) => {\n          console.error('카카오 로그인 실패:', err);\n          reject(err);\n        }\n      });\n    });\n  }\n\n  async getUserInfo(): Promise<any> {\n    return new Promise((resolve, reject) => {\n      window.Kakao.API.request({\n        url: '/v2/user/me',\n        success: (res: any) => {\n          console.log('카카오 사용자 정보:', res);\n          resolve(res);\n        },\n        fail: (err: any) => {\n          console.error('사용자 정보 가져오기 실패:', err);\n          reject(err);\n        }\n      });\n    });\n  }\n\n  logout(): void {\n    if (window.Kakao?.Auth) {\n      window.Kakao.Auth.logout(() => {\n        console.log('카카오 로그아웃 완료');\n      });\n    }\n  }\n\n  isLoggedIn(): boolean {\n    return window.Kakao?.Auth?.getAccessToken() ? true : false;\n  }\n}\n\nexport const kakaoAuth = KakaoAuth.getInstance();\n"],"names":["KakaoAuth","resolve","reject","script","error","authObj","userInfo","err","res","kakaoAuth"],"mappings":"AAOO,MAAMA,CAAU,CACrB,OAAe,SACP,cAAgB,GAExB,OAAO,aAAyB,CAC9B,OAAKA,EAAU,WACbA,EAAU,SAAW,IAAIA,GAEpBA,EAAU,QACnB,CAEA,MAAM,YAA4B,CAChC,GAAI,MAAK,cAET,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CAEtC,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,IAAM,0DACbA,EAAO,UAAY,0EACnBA,EAAO,YAAc,YAErBA,EAAO,OAAS,IAAM,CACpB,GAAI,CAEF,OAAO,MAAM,KAAK,kCAAkC,EACpD,KAAK,cAAgB,GACrB,QAAQ,IAAI,gBAAgB,EAC5BF,EAAA,CACF,OAASG,EAAO,CACd,QAAQ,MAAM,kBAAmBA,CAAK,EACtCF,EAAOE,CAAK,CACd,CACF,EAEAD,EAAO,QAAU,IAAM,CACrBD,EAAO,IAAI,MAAM,eAAe,CAAC,CACnC,EAEA,SAAS,KAAK,YAAYC,CAAM,CAClC,CAAC,CACH,CAEA,MAAM,OAAsB,CAC1B,OAAK,KAAK,eACR,MAAM,KAAK,WAAA,EAGN,IAAI,QAAQ,CAACF,EAASC,IAAW,CACtC,OAAO,MAAM,KAAK,MAAM,CACtB,QAAUG,GAAiB,CACzB,QAAQ,IAAI,cAAeA,CAAO,EAClC,KAAK,YAAA,EACF,KAAKC,GAAYL,EAAQ,CAAE,QAAAI,EAAS,SAAAC,CAAA,CAAU,CAAC,EAC/C,MAAMJ,CAAM,CACjB,EACA,KAAOK,GAAa,CAClB,QAAQ,MAAM,cAAeA,CAAG,EAChCL,EAAOK,CAAG,CACZ,CAAA,CACD,CACH,CAAC,CACH,CAEA,MAAM,aAA4B,CAChC,OAAO,IAAI,QAAQ,CAACN,EAASC,IAAW,CACtC,OAAO,MAAM,IAAI,QAAQ,CACvB,IAAK,cACL,QAAUM,GAAa,CACrB,QAAQ,IAAI,cAAeA,CAAG,EAC9BP,EAAQO,CAAG,CACb,EACA,KAAOD,GAAa,CAClB,QAAQ,MAAM,kBAAmBA,CAAG,EACpCL,EAAOK,CAAG,CACZ,CAAA,CACD,CACH,CAAC,CACH,CAEA,QAAe,CACT,OAAO,OAAO,MAChB,OAAO,MAAM,KAAK,OAAO,IAAM,CAC7B,QAAQ,IAAI,aAAa,CAC3B,CAAC,CAEL,CAEA,YAAsB,CACpB,MAAO,SAAO,OAAO,MAAM,eAAA,CAC7B,CACF,CAEO,MAAME,EAAYT,EAAU,YAAA"}